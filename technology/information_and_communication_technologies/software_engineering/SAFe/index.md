# Scaled Agile Framework

## People

- Peter Drucker
- Daniel H. Pink
- Dean Leffingwell - Creator of SAFe
- Edwards Deming - Project Management
- Taiichi Ohno - Father of Toyota Production Systems
- Mik Kersten
- John P Kotter

## The why?

Speed of innovation depends on a network of people who can be utilized in order to innovate.  This can be represented as a semi-directed graph.
Business efficiency depends on efficiency and stability of an organization. This can be represented as a hierarchical model.

When introducing networks parallel to the hierarchical model, the parallel network is given up in-lieu of efficiency of decision making.

However, this should not be done, and instead needs to be maintained in order to achieve "Business Agility". The business that innovates faster,
can most times sustain itself better.

SAFe allows us to organize networks as Value streams with our traditional hierarchy. It is considered an Operating System to do so.

This has allowed for the following metrics :

1. 30% happier, more motivated employeed
2. 50% faster time-to-market
3. 50% defect reduction
4. 35% Increase in productivity

## Competencies of SAFe, and their enablers

1. Enterprise Solution Delivery
    - Lean Systems Engineering
    - Coordinate Trains and Suppliers
    - Continually evolve live systems
2. Lean Portfolio Management
    - Strategy and Investment funding
    - Agile Portfolio Operations
    - Lean Governance
3. Organizational Agility
    - Lean-thinking People and Agile Teams
    - Lean Business Operations
    - Strategy Agility
4. Continuous Learning Culture
    - Learning Organization
    - Innovation Culture
    - relentless improvement
5. Lean-Agile Leadership
    - Mindset and Principles
    - Leading by example
    - leading change
6. Team and Technical Agility
    - Agile Teams
    - Build in Quality
    - Teams of Agile Teams
7. Agile Product Delivery
    - Customer Centricity
    - Develop on Cadence, release on Demand
    - DevOps and Continuous Delivery Pipeline

These help in achieving Business Agility. These can be remembered through the pnemonic - EAT, LOC and Leadership.

[//]: # (Covered : Lean Portfolio Management, Agile Product delivery, Team and Technical Agility and Lean-Agile Leadership)

### Business Agility Value Streams

It is a faster way to leverage a new business opportunity.

When a business opportunity emerges :

1. Sense opportunity
    - Market research
    - Analysis of qualitative and quantitative data
    - Customer feedbacks
    - Direct observation
2. Fund MVP
3. Organize around value
4. Connect to Customer
5. Deliver MVP
6. Pivot or perservere
7. deliver value continuously
8. Learn and adapt

This results in the business opportunity being leveraged.

## Agile

Principles : 

1. Customer satisfaction through early and continuous delivery of valuable software
2. Welcome changing requirements, even late in development.
3. Deliver working software frequently, with a preference to shorter timescales
4. Business people and developers must work together
5. Build projects around motivated individuals.
6. Most efficient and effective method of conveying info within a dev team is through F2F interactions.
7. Working software is the primary measure of progress
8. Agile processes promote sustainable development.
9. Continuous atteniton to techincal excellence and good design.
10. Siplicity, the art of maximizing the amount of work not done.
11. Best archs, reqs, and designs emerge from self-organizing teams
12. At regular intervals, team reflects on hot to become more effective, the tunes and adjusts it's behaviour accordingly.

## Principles, Mindsets, Values and Principles of SAFe

### Lean Thinking

1. Precisely specify value by product
2. Identify the Value Stream for each product
3. Make value flow without interruptions
4. Let the Customer pull value from the producer
5. Pursue perfection

Value Stream :

* Includes activities from recognizing an opportunity through release and validation
* Contains the steps, flow of info and materials, and people who develop the solution

Identifying your value stream :

* Step 1: Individually, select a Solution your Enterprise is currently developing.
* Step 2: Identify the Customer you are building it for.
* Step 3: In your workbook, sketch out the steps in the Value Stream.
* Step 4: Be prepared to share with the class

## Core values of Agile used

* Individuals and interactions over process and tools
* Working software over comprehensive documentation
* Customer collaboration over contract negotiation
* Responding to change

## SAFe Core Values

- Alignment
- Transparency
- Respect for people
- Relentless improvement

## SAFe Lean-Agile principles

1. Take an economic view
2. Apply systems thinking
3. Assume Variability; preserve options
4. Build incrementally with fast, integrated learning cycles
5. Base milestones on objective evaluation of working systems.
6. Make value flow without interruptions
7. Apply cadence, synchronize with cross-domain planning
8. Unlock the intrinsic motivation of knowledge workers
9. Decentralize decision-making
10. Organize around value

Preserving options is based on "set-based approach". This means that we invest in developing value that provides more options, that can be refined out to reach the optimum solution.

Reducing optimal batch size :

- Increases predictability
- Accelerates feedback
- Reduces rework
- lowers costs

This helps in reducing queue lengths as described by Little's Law :

$$ W_q = \frac{L_q}{\lambda} $$

$W_q$ is average wait time  
$L_q$ is average queue length  
$\lambda$ is average processing rate

Ex : if we are committed to deliver 30 features over a quarter, with an average processing speed of 10 Features per quarter, approx wait time = $\frac{30 items}{10 items/quarter}$ = 3 quarters.

Intrinsic motivation of knowledge workers occur through :

- Autonomy
- Mastery
- Purpose

What decisions to centralize :

Infrequent, long-lasting decisions that impact significant economies of scale.

What decisions to decentralise :

Frequent, time-crtitical decisions requiring local information.

## SAFe scopes

Safe defines 3 scopes :

1. Portfolio
    - Contains Epic Owners and Enterprise Architect
2. Large Solution
    - Made up of Solution Manager, Solution Archtiect and Solution Train Engineer
3. Essential
    - Contains the Agile Release Train(ART) and Team flows
    - ART is made up of Product Managers, System Architects and Release Train Engineers
    - Teams are made up of Product Owner, Scrum Master and servants(Developers, Designers, Testers, etc), of typically 10 members
    - Business Owners are common
    - Plugs into all scopes

Everything is based around customer centricity. If using all of them, a new configuration is introduced called the "Full Configuration".


## Design thinking

- Problems Space
    - Discover(Gemba Walks)
    - Define(Personas, Emapthy Maps)
- Solution space
    - Develop(Journey Maps, Prototyping, Story Mapping)
    - Deliver(Prototyping)

### Empathy Map Canvas

- Who are we empathizing with?
- What do they need to Do?
- What do they see?
- What do they say?
- What do they Do?
- What do they hear?
- What do they think and feel?
    - Use a Pains(fears, frustrations, and anxieties), vs Gains(wants, needs, hopes and dreams)

### Journey Maps

This is the end-to-end customer experience.

Ex : For a mortgage loan, we have the following journey :

- Decide
- Learn
- Choose
- Apply
- Purchase
- Complete

This needs to be prepared for each of the personas to understand them better, focusing on customer's thinking and feeling, banks roles at each stage, and technology opportunities for that would enable dispensing the roles.


## Estimating Story points

Story Points are a relative estimation method that allows sizing of features. It is a number that represents :

1. Volume
2. Complexity
3. Knowledge
4. Uncertainty

This allows us to understand what are larger features, that may require to be broken down into smaller units.

One method of doing this is through "Planning poker".

Prioritizing features for optimal ROI.
In a flow system, job sequencing is the key to improving economic outcomes. To prioritize based on Lean economics, we need to know 2 things :

1. Cost of Delay
2. Duration to implement value

An algorithm to achieve this is Weighted Shortest Job First.

Here duration is relatively estimated as "Job Size". The equation is like :

$$ WSJF factor = \frac{Cost of Delay}{Job Size} = \frac{User-business value + Time criticality + Risk reduction and/or opportunity enablement}{Job Size} $$

User business, and time criticality value is a heuristic assigned by the Business owner, in-tandem with a product manager.  
Risk reduction/opportunity enablement is assigned by product owners.

## Continuous delivery Pipeline

- It represents workflows, activities, and automation needed to deliver new functionality more frequently.
- Each ART builds and maintains, or shares a pipeline
- Organizations map their current pipeline into this new structure and remove delats and improve efficiency of each step.

A CDP is made of 3 elements 
- Continuous Exploration
    - Hypothesize
    - Collaborate and research
    - Architect
    - Synthesize
- Continuous Integration
    - develop
    - Build
    - Test End-to-End
    - Stage
- Continuous Deployment
    - Deploy
    - Verify
    - Monitor
    - Respond


This enables us to "release on Demand".

## PI Planning

2 days every 8-12 weeks, for aligning all teams on the ART to a shared mission and vision.

- Product Management owns Feature Priorities.
- Development teams own Story planning and high-level estimates
- System Architect and UX work as intermediaries.

- Inputs are Top 10 features from **ART Backlog and Vision**
- Output is **Team and ART PI Objectives and ART Planning Board**

### PI Objectives

- Are business summaries of what each team intends to deliver in the upcoming PI
- Objectives often directly relate to intended Features in the backlog
- Other examples are usually
    - Aggrehation of a set of Features
    - A milestone
    - Enabler FEature supporting the implementation
    - major refactoring

Uncommitted objectives :

- If a team has low confidence in meeting a PI Objective, it should be moved to uncommitted
- If an objective has many unknowns,consider moving it to uncommitted and put it in early spikes
- Uncommitted objectives count when calculating load.

(A spike is a story which has a lot of unknowns, but is needed to be done, as agreed by the Product owner)

PI Planning, Day 1 Agenda :

- Business Context : State of the business
- Product/Solution Vision : Vision and prioritized Features
- Arch Vision and deve practices : Architecture, common frameworks, Agile tooling, engineering practices, etc.
- Planning context and lunch : Facilitator explains the planning process
- Team Breakouts : Teams develop draft plans and identify risks and impediments. Architects and PMs circulate.
- Management review and problem solving : Adjustments made based on challenges, risks, and impediments

PI Planning, Day 2 Agenda :

- Planning adjustments : Planning adjustments made based on previous day's management meeting
- Team Breakouts : Teams develop final plan and refine risks and impediments. Business Owners circulate and assign business value to team objectives.
- Final plan review and lunch : Teams present final plans, risks and impediments
- ART PI risks : Remaining PI-level risks are discuss and ROAMed.(Resolved, Owned, Accepted, Mitigated)
- PI confidence vote : Team and ART confidence vote
- Plan rework if necessary : Planning continues until commitment is achieved
- Planning retrospective and moving forward : Retro, Moving forward and Final instructions.

## Architectural Runway

It consists of the existing code, components, and technical infrastructure needed to implement near-term features with minimal redesign and delay.

It is prepared with the System Architect(as Product Owner), Scrum Master, and New Tech initiative Dev team. Just the right amount of architectural runway is required at any given time. Too much, and the architecture bottlenecks the teams and over-engineers the current solution increment. Too little, and the organization will not have the runway it needs to meet near-term business commitments. Capacity allocation is applied to the team backlog, to help ensure that the ratio of enabler work to customer-facing work is always in balance.

A dedicated Agile team often oversees the initial implementation when significant investment in architectural runway is called for - such as to enable a new product launch, Horizon 3 portfolio initiative, or legacy environment.

Architectural runway is dynamic. It is ‘consumed’ by delivering near-term features and must be extended to support future features. The following are examples of forces that consume architectural runway:

- Fast-moving Agile teams – They quickly use the newest runway to deliver near-term features
- Customer preferences – After investing in architectural runway, stakeholders often shift backlog priorities to the features that directly benefit customers
- Technology innovation – Technology changes rapidly, rendering existing runway obsolete
- Changing business needs – The needs of the enterprise shift in response to emerging opportunities and threats

## Implementing SAFe

Use Kotter's 8 step process :

1. Create a sense of urgency
2. Build a Guiding Coalition
3. Form a strategic vision and initiatives
4. Enlist a volunteer army
5. Enable action by removing barriers
6. Generate Short Term Visions
7. Sustain Acceleration
8. Institute Change
